<html ng-app="app" ng-controller="ctrl" ng-keydown="keydown($event)">
<meta charset="UTF-8">
<head>
    <link href="source/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
	<link href="a.css" rel="stylesheet">
</head>
<body hidden="true">

<div id="main" class="container-fluid" style="margin-top: 50px">
	<div ng-show="erro" class="formPequeno alert alert-danger text-center">
		<strong>{{erro}}</strong>
	</div>	
	
	<div class="container" ng-show="aba == 'pesquisa'">
		<h3>Pesquisa de Perguntas</h3>
		<form action="" class="form-horizontal">
			<fieldset>
			
			<div class="form-group">
				<label for="pes.text" class="control-label col-sm-2">Texto</label>
				<div class="col-sm-6">
					<input type="text" name="pes.text" class="form-control" ng-model="pes.text">
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-12 text-right">
					<button class="btn btn-primary" ng-click="btnPesquisarClick()" eat-click><span class="glyphicon glyphicon-refresh"></span>Pesquisar</button>
					<button class="btn btn-warning" ng-click="btnPesquisaLimparClick()"><span class="glyphicon glyphicon-backward"></span>Resetar</button>
					<button class="btn btn-success"><span class="glyphicon glyphicon-save"></span>Nova</button>
				</div>
			</div>
			</fieldset>
		</form>
		<table ng-show="pesquisa.items.length > 0" class="table table-bordered table-hover table-condensed table-striped">
			<thead>
				<tr>
					<th>id</th>
					<th>Text</th>
					<th style="width:125px;">Ação</th>
				</tr>
			</thead>
			<tbody>
				  <tr ng-repeat="o in pesquisa.items">
					<td>{{ o.id }}</td>
					<td>{{ o.text }}</td>
					<td>
							<button class="btn btn-warning" ng-click="btnRowEditClick(o.id)"><i class="glyphicon glyphicon-pencil"></i></button>
							<button class="btn btn-danger" ng-click="btnRowRemoveClick(o.id)"><i class="glyphicon glyphicon-remove"></i></button>
 					</td>
				  </tr>
			</tbody>
		</table>

	</div>	

	<div class="container" ng-show1="aba == 'cadastro'">
		<form action="" class="form-horizontal">
				<legend>Edição Perguntas</legend>
				<div class="form-group">
					<label for="pes.text" class="control-label col-sm-2">Texto</label>
					<div class="col-sm-6">
						<textarea type="text" ng-model="formEdicao.o.text" ng-required="true"  class="form-control custom-control" rows="3" style="resize:none" required="required"></textarea>						
					</div>
				</div>
				<div class="form-group">
		<table class="table table-bordered">
        <thead>
          <tr>
					<th>id</th>
					<th>Text</th>
					<th style="width:125px;">Ação</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="o in formEdicao.o.opcoes">
			<td>{{ o.id }} {{ $first }} {{ $last }}</td>
            <td>
 
				<textarea type="text" ng-model="o.text" ng-required="true"  class="form-control custom-control" rows="3" style="resize:none" required="required"></textarea>						
				
            </td>
            <td class="text-center">
              <i class="fa fa-times-circle fa-lg text-danger" 
                 ng-if="!$first"
                 ng-click="vm.remove($index)"
                 title="Delete" aria-hidden="true"></i>
              
              <i class="fa fa-plus-circle fa-lg text-success"
                 ng-if="$last"
                 ng-click="vm.add()"
                 title="Add" aria-hidden="true"></i>
            </td>
          </tr>
        </tbody>				
				</div>
		</form>

	</div>	

</div>
	
</body>
</html>
<script src="jquery-3.1.0.min.js"></script>
<script src="angular-1.6.6.min.js"></script>
  
<script src="pergunta-crud-mock.js"></script>
<script src="pergunta-crud.js"></script>